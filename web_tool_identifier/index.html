<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCR æ–‡å­—è¾¨è­˜å·¥å…·</title>
    <script src='https://unpkg.com/tesseract.js@v5.0.0/dist/tesseract.min.js'></script>
    <script>
        // Mock PaddleOCR implementation for demo
        window.paddleOCRAvailable = false;
        window.mockPaddleOCR = {
            init: async function() {
                console.log('Mock PaddleOCR initialized');
                return true;
            },
            ocr: async function(imageData) {
                // Simulate better OCR results for demo
                // In production, this would connect to a real PaddleOCR backend
                console.log('Mock PaddleOCR processing...');
                
                // Return a simulated enhanced result
                return [
                    {
                        text: "æ¨¡æ“¬ PaddleOCR å¢å¼·çµæœ",
                        box: [[0, 0], [100, 0], [100, 30], [0, 30]],
                        score: 0.95
                    },
                    {
                        text: "æ›´æº–ç¢ºçš„ä¸­æ–‡è¾¨è­˜",
                        box: [[0, 35], [120, 35], [120, 65], [0, 65]],
                        score: 0.92
                    }
                ];
            }
        };
        
        // For now, disable PaddleOCR to prevent errors
        // In production, you would implement proper PaddleOCR backend integration
        window.paddleOCRAvailable = false;
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>OCR æ–‡å­—è¾¨è­˜å·¥å…·</h1>
            <p>æ”¯æ´ JPGã€PNG æ ¼å¼åœ–ç‰‡ï¼Œè‡ªå‹•è¾¨è­˜ç¹é«”ä¸­æ–‡å’Œè‹±æ–‡</p>
        </header>

        <main>
            <section class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <input type="file" id="fileInput" multiple accept="image/jpeg,image/jpg,image/png" style="display: none;" />
                    <button type="button" class="upload-button" id="uploadButton">
                        <div class="upload-icon">ğŸ“¸</div>
                        <div class="upload-text">
                            <div>é»æ“Šé¸æ“‡åœ–ç‰‡æˆ–æ‹–æ‹½åˆ°æ­¤è™•</div>
                            <div class="upload-hint">æ”¯æ´ JPGã€PNG æ ¼å¼ï¼Œå¯å–®æ¬¡æˆ–æ‰¹æ¬¡ä¸Šå‚³ï¼Œæˆ–æŒ‰ Ctrl+V è²¼ä¸Šåœ–ç‰‡</div>
                        </div>
                    </button>
                </div>
                
                <div class="upload-options">
                    <div class="option-group">
                        <h4>ä¸Šå‚³æ¨¡å¼</h4>
                        <label>
                            <input type="radio" name="uploadMode" value="single" checked>
                            å–®æ¬¡ä¸Šå‚³
                        </label>
                        <label>
                            <input type="radio" name="uploadMode" value="batch">
                            æ‰¹æ¬¡ä¸Šå‚³
                        </label>
                    </div>
                    
                    <div class="option-group">
                        <h4>è¾¨è­˜æ¨¡å¼</h4>
                        <label>
                            <input type="radio" name="recognitionMode" value="auto" checked>
                            è‡ªå‹•åµæ¸¬
                        </label>
                        <label>
                            <input type="radio" name="recognitionMode" value="text">
                            ç´”æ–‡å­—ï¼ˆå–®è¡Œè¼¸å‡ºï¼‰
                        </label>
                        <label>
                            <input type="radio" name="recognitionMode" value="table">
                            è¡¨æ ¼ï¼ˆä¿ç•™æ ¼å¼ï¼‰
                        </label>
                    </div>
                    
                    <div class="option-group">
                        <h4>OCR å¼•æ“</h4>
                        <label>
                            <input type="radio" name="ocrEngine" value="tesseract" checked>
                            Tesseract.js
                        </label>
                        <label>
                            <input type="radio" name="ocrEngine" value="paddleocr">
                            PaddleOCRï¼ˆé–‹ç™¼ä¸­ï¼‰
                        </label>
                    </div>
                </div>

                <button id="processBtn" class="process-btn" disabled>é–‹å§‹è¾¨è­˜</button>
            </section>

            <section class="preview-section">
                <h3>åœ–ç‰‡é è¦½</h3>
                <div id="imagePreview" class="image-preview"></div>
            </section>

            <section class="progress-section">
                <div id="progressBar" class="progress-bar" style="display: none;">
                    <div class="progress-fill"></div>
                    <div class="progress-text">è¾¨è­˜ä¸­...</div>
                </div>
            </section>

            <section class="result-section">
                <div class="result-header">
                    <h3>è¾¨è­˜çµæœ</h3>
                    <button id="copyBtn" class="copy-btn" disabled>è¤‡è£½å…¨éƒ¨æ–‡å­—</button>
                </div>
                <textarea id="resultText" class="result-textarea" placeholder="è¾¨è­˜çµæœå°‡é¡¯ç¤ºåœ¨æ­¤è™•..."></textarea>
            </section>
        </main>
    </div>

    <script src="script.js?v=2024120901"></script>
</body>
</html>